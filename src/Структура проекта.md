Файл с настройками 'PlanetParameters.ts':
  Этот файл нужен только для хранения настроек планеты. Все файлы, в которых будет что то генерироваться будут читать параметры с этого файла и запись всех параметров будет тоже соответственно в этот файл.

  Хранит следующие свойства:
    - Seed (number) - основной параметр, который используется для генерации шума.

    - Scale (number) - параметр, который указывает размерность Икосаэдра для спавна планеты.

    - Frequency (number) - определяет размерность "волн" шума.
      Большой масштаб дает плавные, общие формы (континенты, большие равнины).
      Маленький масштаб добавляет мелкие детали (холмы, камни).

    - Amplitude (number) - управляет "высотой" или интенсивностью шума.
      Большая амплитуда — высокие горы, глубокие впадины.
      Малая амплитуда — низкие холмы.

    - Octaves (number) - количество слоев шума, наложенных друг на друга, для создания фрактальной детализации.
      Чем больше октав, тем более детализированный и реалистичный рельеф получается.

    - Lacunarity (number) - как быстро увеличивается размер новой октавы (часто).

    - Water (bool) - отвечает за то включена ли вода.
    - WaterHeight (number) - уровень воды.

    - Clouds (bool) - отвечает за то включены ли облака.
    - CloudHeight (number) - уровень облаков.

    - Colors ( colors[] {color: HEX, height: number} ) - хранит значения цветов, для покраски планеты.
      Минимальное количество цветов 1, максимальное 10. 
      color хранит цвет в HEX, height хранит положение цвета от 0 до 1, для того чтобы красить планету в пропорциях.



Файл с мэшем 'PlanetMesh.ts':
  В этом файле создается и изменяется Мэш планеты.

  Хранит следующие свойства:
    - PlanetMesh (Three Mesh) - хранит мэш икосаэнда планеты.
    - UniquePlanetVertices - хранит только уникальные значения вершин, для того чтобы легче было менять вершины и цвет планеты, нужно для производительности. 

    - WaterMesh (Three Mesh) - хранит мэш икосаэнда воды, можно только перекрашивать и изменять размер.

    - CloudMesh (Three Mesh) - хранит мэш икосаэнда облаков, можно только изменять размер.


  Хранит следующие методы:
    - createMesh() - создает мэш икосаэнда планеты, воды, облаков с параметрами (1, PlanetParameters.Scale).
      Сохраняет базовые позиции вершин в UniquePlanetVertices для оптимизации.

    - updateVertices() - изменяет положение вершин PlanetMesh на основе шума.
      Принимает seed (number) для генерации детерминированного шума.
      Применяет SimplexNoise с октавами к каждой вершине, используя параметры из PlanetParameters.
      Использует UniquePlanetVertices как базовые позиции, восстанавливает их перед применением шума.

    - updateColors() - изменяет цвет полигонов в соответствии с Colors[].
      Вычисляет min/max высоту вершин после применения шума.
      Нормализует высоты к [0, 1] и маппит их к Colors[].position.
      Применяет интерполяцию цветов между соседними маркерами.

    - updateWaterHeight() - изменяет высоту уровня воды.
      Маппит PlanetParameters.WaterHeight (0-1) на радиус (1-2).
      Обновляет scale водной сферы и цвет материала.

    - updateCloudsHeight() - изменяет высоту облаков.



Файл с утилитой генератором шума 'mulberry32.ts':
  Реализует PRNG (Pseudo-Random Number Generator) для детерминированной генерации шума.
  Используется вместе с SimplexNoise для создания воспроизводимых результатов при одинаковом seed.

  Хранит следующие методы:
    - mulberry32(seed: number) - создает функцию-генератор псевдослучайных чисел.
      Принимает seed (number) - начальное значение для генерации.
      Возвращает функцию, которая при каждом вызове возвращает число от 0 до 1.
      Используется для инициализации SimplexNoise, чтобы шум был детерминированным.



Файл с контроллером сцены 'SceneController.ts':
  Управляет Three.js сценой, добавляет и удаляет объекты.
  Обеспечивает централизованное управление всеми объектами в сцене.

  Хранит следующие свойства:
    - scene (THREE.Scene) - основная сцена Three.js.

  Хранит следующие методы:
    - add(object: THREE.Object3D) - добавляет объект в сцену.
    - remove(object: THREE.Object3D) - удаляет объект из сцены.
    - clear() - очищает всю сцену, удаляя все объекты.



Файл с фабрикой планеты 'PlanetFabric.ts':
  Отрисовывает планету по параметрам, что даны в файлах PlanetParameters и PlanetMesh



Файл с фабрикой камеры 'CameraFabric.ts':
  Создает камеру и контроллеры для Three.js сцены.
  Обеспечивает настраиваемую перспективную камеру с OrbitControls.

  Хранит следующие методы:
    - createCamera(domElement: HTMLElement, options: CameraOptions) - создает камеру и OrbitControls.
      Принимает domElement (HTMLElement) для привязки контролов (обработка мыши/тача).
      Принимает options (CameraOptions) для настройки: startPosition, lookAt, fov, aspect, near, far, и настройки контролов.
      Возвращает объект с camera (THREE.PerspectiveCamera) и controls (OrbitControls).



Файл с фабрикой звезды 'StarFabric.ts':
  Создает звезду (источник света) для освещения сцены.
  Генерирует группу объектов, включая направленный и окружающий свет.

  Хранит следующие методы:
    - createStar(options: StarOptions) - создает группу с направленным и окружающим светом.
      Принимает options: position (array), intensity (number), starColor (HEX), lightColor (HEX), lookAt (array).
      Возвращает THREE.Group содержащий DirectionalLight, AmbientLight и визуальное представление звезды (CircleGeometry).



Файл с утилитой цветов 'getRandomColor.ts':
  Генерирует случайный HEX-цвет для использования в UI.

  Хранит следующие методы:
    - getRandomColor() - возвращает случайный HEX-цвет в формате '#XXXXXX'.
      Используется для генерации цвета новых маркеров при добавлении в Settings-Colors.



Файл с компонентом сцены 'Scene.vue':
  Главный компонент для рендеринга Three.js сцены.
  Инициализирует renderer, camera, controls и управляет жизненным циклом объектов.
  Отвечает за основной цикл рендеринга и обработку событий.

  Использует:
    - PlanetFabric - для отрисовки планеты.
    - StarFabric - для отрисовки солнца/освечения.
    - SceneController - для управления сценой.

  Хранит следующие свойства:
    - ThreeJScontainer (ref) - ссылка на DOM элемент контейнера для renderer.
    - camera (THREE.PerspectiveCamera) - камера для рендеринга.
    - renderer (THREE.WebGLRenderer) - WebGL рендерер.
    - controls (OrbitControls) - контроллеры для управления камерой.
    - sceneController (SceneController) - контроллер сцены.

  Хранит следующие функции:
    - resize() - обрабатывает изменение размера окна, обновляет aspect камеры и размер renderer.
    - animate() - основной цикл рендеринга, вызывается через requestAnimationFrame.
      Обновляет controls, может вызывать animateClouds() для анимации облаков.
      Рендерит сцену через renderer.render().

  Жизненный цикл:
    - onMounted() - создает SceneController, добавляет GridHelper, AxesHelper, Star, создает планету через PlanetMesh.createMesh(), применяет шум через PlanetMesh.updateVertices(), добавляет воду, инициализирует renderer и camera, запускает animate().
    - onBeforeUnmount() - очищает ресурсы: удаляет обработчик resize, отменяет анимацию, вызывает dispose() на controls и renderer.
    - watch() - отслеживает изменения planet и waterSphere для автоматического добавления/удаления из сцены.



Файл с контейнером настроек 'Settings.vue':
  Контейнер для всех компонентов настроек.
  Каждый компонент представляет из себя секцию для определенного типа настроек.
  Каждый компонент представляет из себя отдельный файл для удобства переиспользования и легкого перемещения.
  Объединяет в себе несколько секций:
    - Set-Title - секция с названием 'Settings'.

    - Set-Parameters - настройки параметров шума и генерация планеты.
      Принимает для отображения PlanetParameters и передает значения туда же.
      Кнопка 'Generate' для вызова функции handleGeneratePlanet().
      
    - Set-Colors - управление цветовыми маркерами, создание, удаление, перемещение маркеров.
      UI компонент для управления цветовыми маркерами планеты.
      Позволяет добавлять/удалять маркеры, изменять их цвета и позиции через drag & drop.
      Принимает для отображения PlanetParameters.Colors и передает значения туда же.
      Список цветовых маркеров с color picker, HEX отображением и кнопкой удаления.
      Вертикальный бар с градиентом и маркерами для визуализации уровней цветов.
      Бар отображает градиент от нижнего маркера (position=0) до верхнего (position=1).
      Маркеры можно перетаскивать по бару для изменения position.
      Кнопку "Add layer" для добавления новых маркеров (максимум число что указано в PlanetParameters).
      Кнопка 'Apply Colors' для вызова функции handleApplyColors().

  Применение функций handle не останавливает сцену, а вызывает исполнение функций в другом потоке.
  Хранит следующие функции:
    - handleGeneratePlanet() - вызывает функцию PlanetMesh.updateVertices() для изменения вершин.
    - handleApplyColors() - вызывает PlanetMesh.updateColors() при изменении цветовых маркеров.



Файл с главным UI 'UI.vue':
  Главный контейнер для всех UI компонентов.
  Отображается поверх Scene для доступа к настройкам.

  Структура:
    - Title - заголовок приложения, отображается в левом верхнем углу.
    - Settings - панель настроек, отображается в правом верхнем углу.



Файл с главным компонентом 'App.vue':
  Корневой компонент приложения.
  Объединяет Scene.vue (3D визуализация) и UI.vue (интерфейс настроек).

  Структура:
    - Scene - занимает весь экран (w-screen h-screen) для отображения планеты.
    - UI - наложен поверх сцены (fixed positioning) для отображения настроек.



Файл с точкой входа 'main.ts':
  Точка входа приложения Vue.
  Инициализирует Vue приложение и монтирует App.vue в DOM.

  Хранит следующие функции:
    - createApp(App) - создает экземпляр Vue приложения.
    - mount('#app') - монтирует App.vue в DOM элемент с id='app'.



Принципы работы проекта:

1. Поток данных:
   - PlanetParameters.ts хранит все настройки.
   - UI компоненты редактируют PlanetParameters через props/events.
   - PlanetMesh.ts читает PlanetParameters и обновляет меши планеты.
   - Scene.vue отображает результат через Three.js.

2. Генерация планеты:
   - Создается базовая icosahedron геометрия через PlanetMesh.createMesh().
   - Применяется шум к вершинам через PlanetMesh.updateVertices().
   - Раскрашиваются вершины через PlanetMesh.updateColors() на основе высоты.
   - Вода и облака создаются как отдельные сферы с настраиваемыми параметрами.

3. Оптимизация:
   - Работа только с уникальными вершинами (UniquePlanetVertices).
   - Базовые позиции сохраняются и восстанавливаются перед применением шума.
   - Геометрия переиспользуется, обновляются только атрибуты (positions, colors).